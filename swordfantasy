local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/FabsKebabs/load/refs/heads/main/Source')))()

local Window = OrionLib:MakeWindow({
    Name = [[<font color="rgb(255,0,0)">Publoader-Sword Fantasy</font>]],
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "Subscribe To Pubzy"
})

local Tab1 = Window:MakeTab({Name = "Main", Icon = "", PremiumOnly = false})
local Tab2 = Window:MakeTab({Name = "Teleports", Icon = "", PremiumOnly = false})
local Tab3 = Window:MakeTab({Name = "Auto Farm", Icon = "", PremiumOnly = false})
local Tab4 = Window:MakeTab({Name = "Bosses", Icon = "", PremiumOnly = false})  -- New Bosses Tab

local Player = game.Players.LocalPlayer
local UIS = game:GetService("UserInputService")

local AutoClickEnabled = false
local FreezeEnabled = false
local AntiAFKEnabled = false

-- Freeze Player Function
local function freezePlayer()
    if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = Player.Character.HumanoidRootPart
        hrp.Anchored = FreezeEnabled
    end
end

-- Autoclick Function
local function autoClick()
    spawn(function()
        OrionLib:MakeNotification({
            Name = "Auto Click Enabled",
            Content = "Press '=' and Backspace to stop autoclick",
            Time = 3
        })
        while AutoClickEnabled do
            wait(0.1) -- 100ms delay
            game:GetService("VirtualInputManager"):SendMouseButtonEvent(0, 0, 0, true, game, 1)
            game:GetService("VirtualInputManager"):SendMouseButtonEvent(0, 0, 0, false, game, 1)
        end
    end)
end


-- Anti-AFK System (toggleable)
local function antiAFK()
    if AntiAFKEnabled then
        spawn(function()
            while AntiAFKEnabled do
                wait(60)
                local virtualUser = game:service("VirtualUser")
                virtualUser:CaptureController()
                virtualUser:ClickButton2(Vector2.new())
            end
        end)
        OrionLib:MakeNotification({
            Name = "Anti-AFK Activated",
            Content = "You will not be kicked for being idle!",
            Time = 3
        })
    else
        -- Deactivate anti-AFK
        OrionLib:MakeNotification({
            Name = "Anti-AFK Deactivated",
            Content = "You will be kicked for inactivity.",
            Time = 3
        })
    end
end

-- Stop Autoclick when '=' and Backspace are pressed together
UIS.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed then
        if UIS:IsKeyDown(Enum.KeyCode.Equals) and input.KeyCode == Enum.KeyCode.Backspace then
            AutoClickEnabled = false
            OrionLib:MakeNotification({
                Name = "Autoclick Stopped",
                Content = "Autoclick has been stopped!",
                Time = 2
            })
        end
    end
end)

-- Main Tab Elements
Tab1:AddToggle({
    Name = "Freeze Player",
    Default = false,
    Callback = function(Value)
        FreezeEnabled = Value
        freezePlayer()
    end
})

Tab1:AddToggle({
    Name = "Autoclick (100ms)",
    Default = false,
    Callback = function(Value)
        AutoClickEnabled = Value
        if AutoClickEnabled then
            autoClick()
        end
    end
})

Tab1:AddToggle({
    Name = "Anti-AFK",
    Default = false,
    Callback = function(Value)
        AntiAFKEnabled = Value  -- Toggle Anti-AFK
        antiAFK()  -- Apply the change
    end
})

-- Teleports Tab
local function teleportTo(position)
    if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
        Player.Character.HumanoidRootPart.CFrame = CFrame.new(position)
    end
end

Tab2:AddButton({
    Name = "Spawn",
    Callback = function()
        teleportTo(Vector3.new(-54, 29, -1311))
    end
})

Tab2:AddButton({
    Name = "Wolf Forest",
    Callback = function()
        teleportTo(Vector3.new(-19, 29, -1996))
    end
})

Tab2:AddButton({
    Name = "Spider Cave",
    Callback = function()
        teleportTo(Vector3.new(-221, 29, -2478))
    end
})

Tab2:AddButton({
    Name = "Bee Forest",
    Callback = function()
        teleportTo(Vector3.new(696, 87, -2358))
    end
})

Tab2:AddButton({
    Name = "Crab Beach",
    Callback = function()
        teleportTo(Vector3.new(1401, 33, -1512))
    end
})

Tab2:AddButton({
    Name = "Castle",
    Callback = function()
        teleportTo(Vector3.new(449, 349, -2598))
    end
})

-- Bosses Tab (New)
Tab4:AddButton({
    Name = "Crab Boss",
    Callback = function()
        teleportTo(Vector3.new(6750, -1, 1009))  -- Crab Boss position
    end
})

Tab4:AddButton({
    Name = "Wolf Boss",
    Callback = function()
        teleportTo(Vector3.new(5000, 29, -2500))  -- Wolf Boss position (example)
    end
})

Tab4:AddButton({
    Name = "Spider Boss",
    Callback = function()
        teleportTo(Vector3.new(6000, 29, -3000))  -- Spider Boss position (example)
    end
})


-- Add Settings Tab for HWID Protection
local Tab5 = Window:MakeTab({
    Name = "Settings",
    Icon = "",
    PremiumOnly = false
})

local spoofedHWID = nil  -- Variable to store the spoofed HWID

-- Function to generate a random HWID-like string
local function generateHWID()
    return "HWID-" .. math.random(1000000, 9999999)  -- Simulating a random HWID string
end

-- Add HWID Protection Toggle in Settings Tab
Tab5:AddToggle({
    Name = "Enable HWID Protection (Spoof)",
    Default = false,
    Callback = function(Value)
        if Value then
            -- Simulate HWID spoofing by generating a random HWID
            spoofedHWID = generateHWID()
            OrionLib:MakeNotification({
                Name = "HWID Protection Enabled",
                Content = "Your HWID has been spoofed: " .. spoofedHWID,
                Time = 3
            })
        else
            -- Reset the HWID (if necessary)
            spoofedHWID = nil
            OrionLib:MakeNotification({
                Name = "HWID Protection Disabled",
                Content = "HWID spoofing is now disabled.",
                Time = 3
            })
        end
    end
})

-- Optional: Display spoofed HWID in the UI (if needed for debugging or info)
Tab5:AddLabel({
    Name = "Spoofed HWID",
    Default = "None",  -- Initial label text
    Callback = function()
        -- Dynamically update the label based on the spoofed HWID
        if spoofedHWID then
            return spoofedHWID  -- Show the spoofed HWID
        else
            return "No HWID spoofing active"
        end
    end
})

-- Add FPS display functionality

local FPSLabel = nil -- Variable to store the FPS label

-- Function to update FPS and display it
local function updateFPS()
    local frameCount = 0
    local startTime = tick()
    
    game:GetService("RunService").Heartbeat:Connect(function()
        frameCount = frameCount + 1
        local elapsedTime = tick() - startTime
        
        -- Update FPS every second
        if elapsedTime >= 1 then
            local fps = frameCount / elapsedTime
            frameCount = 0
            startTime = tick()
            
            if FPSLabel then
                FPSLabel.Text = "FPS: " .. math.floor(fps)
            end
        end
    end)
end



-- Settings Tab to show FPS
Tab5:AddToggle({
    Name = "Show FPS",
    Default = false,
    Callback = function(Value)
        if Value then
            -- Create the FPS label if it doesn't exist
            if not FPSLabel then
                FPSLabel = Instance.new("TextLabel")
                FPSLabel.Parent = game.CoreGui
                FPSLabel.Position = UDim2.new(0.05, 0, 0.05, 0)
                FPSLabel.Size = UDim2.new(0, 200, 0, 50)
                FPSLabel.TextSize = 18
                FPSLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                FPSLabel.BackgroundTransparency = 1
                FPSLabel.Text = "FPS: 0"
            end
            updateFPS() -- Start updating the FPS
        else
            -- Hide FPS label when toggle is off
            if FPSLabel then
                FPSLabel:Destroy()
                FPSLabel = nil
            end
        end
    end
})


-- Auto Farm Wolves Variables
local AutoFarmWolvesEnabled = false

local WolfPositions = {
    Vector3.new(103, 29, -2173), -- Wolf1
    Vector3.new(145, 29, -2137), -- Wolf2
    Vector3.new(49, 29, -2122),  -- Wolf3
    Vector3.new(58, 29, -2070)   -- Wolf4
}

-- Auto Farm Wolves Function
local function autoFarmWolves()
    spawn(function()
        OrionLib:MakeNotification({
            Name = "Auto Farm Wolves",
            Content = "Auto farm wolves started! Press '=' and Backspace to stop.",
            Time = 3
        })
        AutoClickEnabled = true -- Enable autoclick
        autoClick()
        
        while AutoFarmWolvesEnabled do
            for _, position in ipairs(WolfPositions) do
                if not AutoFarmWolvesEnabled then break end -- Stop if disabled
                teleportTo(position)
                wait(0.5) -- Small delay to ensure teleport completes
            end
        end

        AutoClickEnabled = false -- Disable autoclick when stopped
    end)
end

-- Add Auto Farm Wolves Button in Auto Farm Tab
Tab3:AddToggle({
    Name = "Auto Farm Wolves",
    Default = false,
    Callback = function(Value)
        AutoFarmWolvesEnabled = Value
        if AutoFarmWolvesEnabled then
            autoFarmWolves()
        else
            OrionLib:MakeNotification({
                Name = "Auto Farm Stopped",
                Content = "Auto farm has been stopped!",
                Time = 2
            })
        end
    end
})
